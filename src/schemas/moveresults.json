{
    "$schema": "http://json-schema.org/schema#",
    "$id": "https://www.abstractplay.com/schemas/moveresults/1-0-0.json#",
    "title": "AP Move Result",
    "description": "Written information about changes in game state after a move are encoded as a JSON object matching this schema. The goal is to then allow localized statements to be generated from them.",
    "definitions": {
    },
    "type": "object",
    "oneOf": [
        {
            "description": "Generic placement of a piece. You can optionally provide a precise location and a description of the piece.",
            "properties": {
                "type": {
                    "enum": ["place"]
                },
                "where": {
                    "type": "string"
                },
                "what": {
                    "type": "string"
                }
            },
            "required": ["type"],
            "additionalProperties": false
        },
        {
            "description": "Generic movement of a piece. You can optionally provide description of the piece.",
            "properties": {
                "type": {
                    "enum": ["move"]
                },
                "from": {
                    "type": "string"
                },
                "to": {
                    "type": "string"
                },
                "what": {
                    "type": "string"
                }
            },
            "required": ["type", "from", "to"],
            "additionalProperties": false
        },
        {
            "description": "Generic capturing of a piece. You can optionally provide a precise location and a description of the captured piece.",
            "properties": {
                "type": {
                    "enum": ["capture"]
                },
                "where": {
                    "type": "string"
                },
                "what": {
                    "type": "string"
                },
                "count": {
                    "type": "number"
                }
            },
            "required": ["type"],
            "additionalProperties": false
        },
        {
            "description": "Taking a piece from the board but not a capture (so usually your own piece)",
            "properties": {
                "type": {
                    "enum": ["take"]
                },
                "what": {
                    "type": "string"
                },
                "from": {
                    "type": "string"
                }
            },
            "required": ["type", "from"],
            "additionalProperties": false
        },
        {
            "description": "Describes passing a turn.",
            "properties": {
                "type": {
                    "enum": ["pass"]
                }
            },
            "required": ["type"],
            "additionalProperties": false
        },
        {
            "description": "Describes a change in the current player's score",
            "properties": {
                "type": {
                    "enum": ["deltaScore"]
                },
                "delta": {
                    "type": "number"
                }
            },
            "required": ["type"],
            "additionalProperties": false
        },
        {
            "description": "Describes reclaiming one of your own pieces. Primarily used in the game Blam!",
            "properties": {
                "type": {
                    "enum": ["reclaim"]
                },
                "what": {
                    "type": "string"
                }
            },
            "required": ["type"],
            "additionalProperties": false
        },
        {
            "description": "Describes blocking off a space or the area between two spaces.",
            "properties": {
                "type": {
                    "enum": ["block"]
                },
                "where": {
                    "description": "Use this for blocking off a single space",
                    "type": "string"
                },
                "between": {
                    "description": "Use this to block between two spaces",
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "minItems": 2,
                    "maxItems": 2
                }
            },
            "required": ["type"],
            "additionalProperties": false
        },
        {
            "description": "Announces the game has ended.",
            "properties": {
                "type": {
                    "enum": ["eog"]
                },
                "reason": {
                    "type": "string"
                }
            },
            "required": ["type"],
            "additionalProperties": false
        },
        {
            "description": "Announces the winners of the game.",
            "properties": {
                "type": {
                    "enum": ["winners"]
                },
                "players": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    }
                }
            },
            "required": ["type", "players"],
            "additionalProperties": false
        },
        {
            "description": "Announces a generic draw, usually in a two-player game.",
            "properties": {
                "type": {
                    "enum": ["draw"]
                }
            },
            "required": ["type"],
            "additionalProperties": false
        },
        {
            "description": "Announces someone voluntarily resigned.",
            "properties": {
                "type": {
                    "enum": ["resigned"]
                },
                "player": {
                    "type": "number"
                }
            },
            "required": ["type", "player"],
            "additionalProperties": false
        },
        {
            "description": "Announces someone lost on time.",
            "properties": {
                "type": {
                    "enum": ["timeout"]
                },
                "player": {
                    "type": "number"
                }
            },
            "required": ["type", "player"],
            "additionalProperties": false
        },
        {
            "description": "Players agreed to a draw.",
            "properties": {
                "type": {
                    "enum": ["drawagreed"]
                }
            },
            "required": ["type"],
            "additionalProperties": false
        },
        {
            "description": "Announces someone was forcibly removed from the game.",
            "properties": {
                "type": {
                    "enum": ["kicked"]
                },
                "player": {
                    "type": "number"
                }
            },
            "required": ["type", "player"],
            "additionalProperties": false
        },
        {
            "description": "Announces the promotion of a piece to another.",
            "properties": {
                "type": {
                    "enum": ["promote"]
                },
                "from": {
                    "type": "string"
                },
                "to": {
                    "type": "string"
                },
                "where": {
                    "type": "string"
                }
            },
            "required": ["type", "to"],
            "additionalProperties": false
        },
        {
            "description": "Announces a player's elimination",
            "properties": {
                "type": {
                    "enum": ["eliminated"]
                },
                "who": {
                    "type": "string"
                }
            },
            "required": ["type", "who"],
            "additionalProperties": false
        },
        {
            "description": "Announces the creation of a homeworld",
            "properties": {
                "type": {
                    "enum": ["homeworld"]
                },
                "stars": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "ship": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                }
            },
            "required": ["type", "stars", "ship", "name"],
            "additionalProperties": false
        },
        {
            "description": "Announces a discovery",
            "properties": {
                "type": {
                    "enum": ["discover"]
                },
                "what": {
                    "type": "string"
                },
                "where": {
                    "type": "string"
                },
                "called": {
                    "type": "string"
                }
            },
            "required": ["type"],
            "additionalProperties": false
        },
        {
            "description": "Converting a pieces into something else (but not a `promotion`)",
            "properties": {
                "type": {
                    "enum": ["convert"]
                },
                "what": {
                    "type": "string"
                },
                "into": {
                    "type": "string"
                },
                "where": {
                    "type": "string"
                }
            },
            "required": ["type", "what", "into"],
            "additionalProperties": false
        },
        {
            "description": "Sacrificing a piece",
            "properties": {
                "type": {
                    "enum": ["sacrifice"]
                },
                "what": {
                    "type": "string"
                },
                "where": {
                    "type": "string"
                }
            },
            "required": ["type", "what"],
            "additionalProperties": false
        },
        {
            "description": "Catastrophe triggered (Homeworlds specific)",
            "properties": {
                "type": {
                    "enum": ["catastrophe"]
                },
                "where": {
                    "type": "string"
                },
                "trigger": {
                    "type": "string"
                }
            },
            "required": ["type", "where"],
            "additionalProperties": false
        },
        {
            "description": "Describes consequential movement, like eruptions in Volcano",
            "properties": {
                "type": {
                    "enum": ["eject"]
                },
                "from": {
                    "type": "string"
                },
                "to": {
                    "type": "string"
                },
                "what": {
                    "type": "string"
                }
            },
            "required": ["type", "from", "to"],
            "additionalProperties": false
        },
        {
            "description": "Describes the reorientation of a piece in place.",
            "properties": {
                "type": {
                    "enum": ["orient"]
                },
                "what": {
                    "type": "string"
                },
                "where": {
                    "type": "string"
                },
                "facing": {
                    "type": "string"
                }
            },
            "required": ["type", "facing"],
            "additionalProperties": false
        },
        {
            "description": "Describes the detonation of a piece.",
            "properties": {
                "type": {
                    "enum": ["detonate"]
                },
                "what": {
                    "type": "string"
                },
                "where": {
                    "type": "string"
                }
            },
            "required": ["type"],
            "additionalProperties": false
        },
        {
            "description": "Describes generic destruction of a piece.",
            "properties": {
                "type": {
                    "enum": ["destroy"]
                },
                "what": {
                    "type": "string"
                },
                "where": {
                    "type": "string"
                }
            },
            "required": ["type"],
            "additionalProperties": false
        },
        {
            "description": "Bearing pieces off the board",
            "properties": {
                "type": {
                    "enum": ["bearoff"]
                },
                "what": {
                    "type": "string"
                },
                "from": {
                    "type": "string"
                },
                "edge": {
                    "type": "string"
                }
            },
            "required": ["type", "from"],
            "additionalProperties": false
        },
        {
            "description": "Adding pieces to a single space",
            "properties": {
                "type": {
                    "enum": ["add"]
                },
                "where": {
                    "type": "string"
                },
                "num": {
                    "type": "number"
                }
            },
            "required": ["type", "where", "num"],
            "additionalProperties": false
        },
        {
            "description": "Removing pieces from a single space",
            "properties": {
                "type": {
                    "enum": ["remove"]
                },
                "where": {
                    "type": "string"
                },
                "num": {
                    "type": "number"
                }
            },
            "required": ["type", "where", "num"],
            "additionalProperties": false
        },
        {
            "description": "Claiming a space",
            "properties": {
                "type": {
                    "enum": ["claim"]
                },
                "where": {
                    "type": "string"
                },
                "who": {
                    "type": "string"
                }
            },
            "required": ["type", "where"],
            "additionalProperties": false
        },
        {
            "description": "Nullifying a claim; this is only used in Alien City",
            "properties": {
                "type": {
                    "enum": ["nullifyClaim"]
                },
                "where": {
                    "type": "string"
                }
            },
            "required": ["type", "where"],
            "additionalProperties": false
        },
        {
            "description": "Immobilize a piece",
            "properties": {
                "type": {
                    "enum": ["immobilize"]
                },
                "where": {
                    "type": "string"
                },
                "what": {
                    "type": "string"
                }
            },
            "required": ["type", "where"],
            "additionalProperties": false
        }
    ]
}