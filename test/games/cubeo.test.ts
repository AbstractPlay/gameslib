/* eslint-disable no-unused-expressions */
/* eslint-disable @typescript-eslint/no-unused-expressions */

import "mocha";
import { expect } from "chai";
import { CubeoGame } from '../../src/games';

describe("Cubeo", () => {
    it("Bug: Gap Jumping", () => {
        const g = new CubeoGame(`{"game":"cubeo","numplayers":2,"variants":[],"gameover":false,"winner":[],"stack":[{"_version":"20250105","_results":[],"_timestamp":"2025-02-14T10:00:34.609Z","currplayer":1,"board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2}]}},{"_version":"20250105","_results":[{"type":"place","where":"-1,0"}],"_timestamp":"2025-02-14T14:25:09.314Z","currplayer":2,"lastmove":"+-1,0","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":-1,"_y":0,"_pips":1,"_owner":1}]}},{"_version":"20250105","_results":[{"type":"place","where":"1,1"}],"_timestamp":"2025-02-14T15:38:18.475Z","currplayer":1,"lastmove":"+1,1","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":-1,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":1,"_pips":1,"_owner":2}]}},{"_version":"20250105","_results":[{"type":"place","where":"-1,-1"}],"_timestamp":"2025-02-14T16:12:03.573Z","currplayer":2,"lastmove":"+-1,-1","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":-1,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":1,"_pips":1,"_owner":2},{"_x":-1,"_y":-1,"_pips":1,"_owner":1}]}},{"_version":"20250105","_results":[{"type":"place","where":"1,-1"}],"_timestamp":"2025-02-14T16:52:10.899Z","currplayer":1,"lastmove":"+1,-1","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":-1,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":1,"_pips":1,"_owner":2},{"_x":-1,"_y":-1,"_pips":1,"_owner":1},{"_x":1,"_y":-1,"_pips":1,"_owner":2}]}},{"_version":"20250105","_results":[{"type":"move","from":"-1,-1","to":"-1,0","what":"1"},{"type":"promote","from":"1","to":"2","where":"-1,0"}],"_timestamp":"2025-02-14T17:19:10.362Z","currplayer":2,"lastmove":"1,-1,-1+>-1,0","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":-1,"_y":0,"_pips":2,"_owner":1},{"_x":1,"_y":1,"_pips":1,"_owner":2},{"_x":1,"_y":-1,"_pips":1,"_owner":2}]}},{"_version":"20250105","_results":[{"type":"move","from":"1,-1","to":"0,-1","what":"1"}],"_timestamp":"2025-02-14T17:36:02.963Z","currplayer":1,"lastmove":"1,1,-1->0,-1","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":-1,"_y":0,"_pips":2,"_owner":1},{"_x":1,"_y":1,"_pips":1,"_owner":2},{"_x":0,"_y":-1,"_pips":1,"_owner":2}]}},{"_version":"20250105","_results":[{"type":"move","from":"-1,0","to":"1,2","what":"2"}],"_timestamp":"2025-02-14T18:15:49.262Z","currplayer":2,"lastmove":"2,-1,0->1,2","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":1,"_y":1,"_pips":1,"_owner":2},{"_x":0,"_y":-1,"_pips":1,"_owner":2},{"_x":1,"_y":2,"_pips":2,"_owner":1}]}},{"_version":"20250105","_results":[{"type":"place","where":"-1,-1"}],"_timestamp":"2025-02-14T18:51:06.668Z","currplayer":1,"lastmove":"+-1,-1","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":1,"_y":1,"_pips":1,"_owner":2},{"_x":0,"_y":-1,"_pips":1,"_owner":2},{"_x":1,"_y":2,"_pips":2,"_owner":1},{"_x":-1,"_y":-1,"_pips":1,"_owner":2}]}},{"_version":"20250105","_results":[{"type":"place","where":"2,2"}],"_timestamp":"2025-02-14T19:03:24.927Z","currplayer":2,"lastmove":"+2,2","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":1,"_y":1,"_pips":1,"_owner":2},{"_x":0,"_y":-1,"_pips":1,"_owner":2},{"_x":1,"_y":2,"_pips":2,"_owner":1},{"_x":-1,"_y":-1,"_pips":1,"_owner":2},{"_x":2,"_y":2,"_pips":1,"_owner":1}]}},{"_version":"20250105","_results":[{"type":"move","from":"-1,-1","to":"-1,0","what":"1"}],"_timestamp":"2025-02-14T19:42:55.820Z","currplayer":1,"lastmove":"1,-1,-1->-1,0","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":1,"_y":1,"_pips":1,"_owner":2},{"_x":0,"_y":-1,"_pips":1,"_owner":2},{"_x":1,"_y":2,"_pips":2,"_owner":1},{"_x":2,"_y":2,"_pips":1,"_owner":1},{"_x":-1,"_y":0,"_pips":1,"_owner":2}]}},{"_version":"20250105","_results":[{"type":"move","from":"2,2","to":"1,2","what":"1"},{"type":"promote","from":"2","to":"3","where":"1,2"}],"_timestamp":"2025-02-14T20:28:54.347Z","currplayer":2,"lastmove":"1,2,2+>1,2","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":1,"_y":1,"_pips":1,"_owner":2},{"_x":0,"_y":-1,"_pips":1,"_owner":2},{"_x":1,"_y":2,"_pips":3,"_owner":1},{"_x":-1,"_y":0,"_pips":1,"_owner":2}]}},{"_version":"20250105","_results":[{"type":"place","where":"-1,-1"}],"_timestamp":"2025-02-14T20:45:23.290Z","currplayer":1,"lastmove":"+-1,-1","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":1,"_y":1,"_pips":1,"_owner":2},{"_x":0,"_y":-1,"_pips":1,"_owner":2},{"_x":1,"_y":2,"_pips":3,"_owner":1},{"_x":-1,"_y":0,"_pips":1,"_owner":2},{"_x":-1,"_y":-1,"_pips":1,"_owner":2}]}},{"_version":"20250105","_results":[{"type":"place","where":"2,2"}],"_timestamp":"2025-02-14T21:33:42.001Z","currplayer":2,"lastmove":"+2,2","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":1,"_y":1,"_pips":1,"_owner":2},{"_x":0,"_y":-1,"_pips":1,"_owner":2},{"_x":1,"_y":2,"_pips":3,"_owner":1},{"_x":-1,"_y":0,"_pips":1,"_owner":2},{"_x":-1,"_y":-1,"_pips":1,"_owner":2},{"_x":2,"_y":2,"_pips":1,"_owner":1}]}},{"_version":"20250105","_results":[{"type":"move","from":"-1,-1","to":"-1,0","what":"1"},{"type":"promote","from":"1","to":"2","where":"-1,0"}],"_timestamp":"2025-02-14T21:46:19.945Z","currplayer":1,"lastmove":"1,-1,-1+>-1,0","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":1,"_y":1,"_pips":1,"_owner":2},{"_x":0,"_y":-1,"_pips":1,"_owner":2},{"_x":1,"_y":2,"_pips":3,"_owner":1},{"_x":-1,"_y":0,"_pips":2,"_owner":2},{"_x":2,"_y":2,"_pips":1,"_owner":1}]}},{"_version":"20250105","_results":[{"type":"place","where":"3,2"}],"_timestamp":"2025-02-14T21:58:02.160Z","currplayer":2,"lastmove":"+3,2","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":1,"_y":1,"_pips":1,"_owner":2},{"_x":0,"_y":-1,"_pips":1,"_owner":2},{"_x":1,"_y":2,"_pips":3,"_owner":1},{"_x":-1,"_y":0,"_pips":2,"_owner":2},{"_x":2,"_y":2,"_pips":1,"_owner":1},{"_x":3,"_y":2,"_pips":1,"_owner":1}]}},{"_version":"20250105","_results":[{"type":"move","from":"-1,0","to":"0,2","what":"2"}],"_timestamp":"2025-02-14T22:55:54.429Z","currplayer":1,"lastmove":"2,-1,0->0,2","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":1,"_y":1,"_pips":1,"_owner":2},{"_x":0,"_y":-1,"_pips":1,"_owner":2},{"_x":1,"_y":2,"_pips":3,"_owner":1},{"_x":2,"_y":2,"_pips":1,"_owner":1},{"_x":3,"_y":2,"_pips":1,"_owner":1},{"_x":0,"_y":2,"_pips":2,"_owner":2}]}},{"_version":"20250105","_results":[{"type":"move","from":"3,2","to":"2,1","what":"1"}],"_timestamp":"2025-02-14T22:59:11.912Z","currplayer":2,"lastmove":"1,3,2->2,1","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":1,"_y":1,"_pips":1,"_owner":2},{"_x":0,"_y":-1,"_pips":1,"_owner":2},{"_x":1,"_y":2,"_pips":3,"_owner":1},{"_x":2,"_y":2,"_pips":1,"_owner":1},{"_x":0,"_y":2,"_pips":2,"_owner":2},{"_x":2,"_y":1,"_pips":1,"_owner":1}]}},{"_version":"20250105","_results":[{"type":"place","where":"0,3"}],"_timestamp":"2025-02-14T23:29:48.446Z","currplayer":1,"lastmove":"+0,3","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":1,"_y":1,"_pips":1,"_owner":2},{"_x":0,"_y":-1,"_pips":1,"_owner":2},{"_x":1,"_y":2,"_pips":3,"_owner":1},{"_x":2,"_y":2,"_pips":1,"_owner":1},{"_x":0,"_y":2,"_pips":2,"_owner":2},{"_x":2,"_y":1,"_pips":1,"_owner":1},{"_x":0,"_y":3,"_pips":1,"_owner":2}]}},{"_version":"20250105","_results":[{"type":"move","from":"2,1","to":"2,2","what":"1"},{"type":"promote","from":"1","to":"2","where":"2,2"}],"_timestamp":"2025-02-14T23:30:11.709Z","currplayer":2,"lastmove":"1,2,1+>2,2","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":1,"_y":1,"_pips":1,"_owner":2},{"_x":0,"_y":-1,"_pips":1,"_owner":2},{"_x":1,"_y":2,"_pips":3,"_owner":1},{"_x":2,"_y":2,"_pips":2,"_owner":1},{"_x":0,"_y":2,"_pips":2,"_owner":2},{"_x":0,"_y":3,"_pips":1,"_owner":2}]}},{"_version":"20250105","_results":[{"type":"move","from":"0,3","to":"1,3","what":"1"}],"_timestamp":"2025-02-14T23:51:52.757Z","currplayer":1,"lastmove":"1,0,3->1,3","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":1,"_y":1,"_pips":1,"_owner":2},{"_x":0,"_y":-1,"_pips":1,"_owner":2},{"_x":1,"_y":2,"_pips":3,"_owner":1},{"_x":2,"_y":2,"_pips":2,"_owner":1},{"_x":0,"_y":2,"_pips":2,"_owner":2},{"_x":1,"_y":3,"_pips":1,"_owner":2}]}},{"_version":"20250105","_results":[{"type":"move","from":"2,2","to":"1,2","what":"2"},{"type":"promote","from":"3","to":"5","where":"1,2"}],"_timestamp":"2025-02-17T04:07:15.694Z","currplayer":2,"lastmove":"2,2,2+>1,2","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":1,"_y":1,"_pips":1,"_owner":2},{"_x":0,"_y":-1,"_pips":1,"_owner":2},{"_x":1,"_y":2,"_pips":5,"_owner":1},{"_x":0,"_y":2,"_pips":2,"_owner":2},{"_x":1,"_y":3,"_pips":1,"_owner":2}]}},{"_version":"20250105","_results":[{"type":"place","where":"2,1"}],"_timestamp":"2025-02-17T19:18:30.513Z","currplayer":1,"lastmove":"+2,1","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":1,"_y":1,"_pips":1,"_owner":2},{"_x":0,"_y":-1,"_pips":1,"_owner":2},{"_x":1,"_y":2,"_pips":5,"_owner":1},{"_x":0,"_y":2,"_pips":2,"_owner":2},{"_x":1,"_y":3,"_pips":1,"_owner":2},{"_x":2,"_y":1,"_pips":1,"_owner":2}]}},{"_version":"20250105","_results":[{"type":"place","where":"-1,0"}],"_timestamp":"2025-02-17T19:18:30.635Z","currplayer":2,"lastmove":"+-1,0","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":1,"_y":1,"_pips":1,"_owner":2},{"_x":0,"_y":-1,"_pips":1,"_owner":2},{"_x":1,"_y":2,"_pips":5,"_owner":1},{"_x":0,"_y":2,"_pips":2,"_owner":2},{"_x":1,"_y":3,"_pips":1,"_owner":2},{"_x":2,"_y":1,"_pips":1,"_owner":2},{"_x":-1,"_y":0,"_pips":1,"_owner":1}]}},{"_version":"20250105","_results":[{"type":"move","from":"0,-1","to":"-1,-1","what":"1"}],"_timestamp":"2025-02-17T19:40:47.513Z","currplayer":1,"lastmove":"1,0,-1->-1,-1","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":1,"_y":1,"_pips":1,"_owner":2},{"_x":1,"_y":2,"_pips":5,"_owner":1},{"_x":0,"_y":2,"_pips":2,"_owner":2},{"_x":1,"_y":3,"_pips":1,"_owner":2},{"_x":2,"_y":1,"_pips":1,"_owner":2},{"_x":-1,"_y":0,"_pips":1,"_owner":1},{"_x":-1,"_y":-1,"_pips":1,"_owner":2}]}},{"_version":"20250105","_results":[{"type":"place","where":"-1,1"}],"_timestamp":"2025-02-18T03:59:52.366Z","currplayer":2,"lastmove":"+-1,1","board":{"_dice":[{"_x":0,"_y":0,"_pips":1,"_owner":1},{"_x":1,"_y":0,"_pips":1,"_owner":2},{"_x":1,"_y":1,"_pips":1,"_owner":2},{"_x":1,"_y":2,"_pips":5,"_owner":1},{"_x":0,"_y":2,"_pips":2,"_owner":2},{"_x":1,"_y":3,"_pips":1,"_owner":2},{"_x":2,"_y":1,"_pips":1,"_owner":2},{"_x":-1,"_y":0,"_pips":1,"_owner":1},{"_x":-1,"_y":-1,"_pips":1,"_owner":2},{"_x":-1,"_y":1,"_pips":1,"_owner":1}]}}]}`);
        const moves = g.moves();
        expect(moves.includes("2,0,2->-1,2")).to.be.true;
    });
});

